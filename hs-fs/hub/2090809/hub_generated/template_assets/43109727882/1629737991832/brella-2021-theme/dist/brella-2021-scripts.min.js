Number.isNaN||function(global){var defineProperty=function(){try{var object={},$defineProperty=Object.defineProperty,result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}(),globalIsNaN=global.isNaN,isNaN=function(value){return"number"==typeof value&&globalIsNaN(value)};defineProperty?defineProperty(Number,"isNaN",{value:isNaN,configurable:!0,writable:!0}):Number.isNaN=isNaN}(this),function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):e.MicroModal=o()}(this,(function(){"use strict";var i,n,a,s,c,o=function(){function e(e,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(o,t,i){return t&&e(o.prototype,t),i&&e(o,i),o}}(),t=function(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o];return t}return Array.from(e)};return i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],n=function(){function n(o){var i=o.targetModal,a=o.triggers,r=void 0===a?[]:a,s=o.onShow,l=void 0===s?function(){}:s,c=o.onClose,d=void 0===c?function(){}:c,u=o.openTrigger,f=void 0===u?"data-micromodal-trigger":u,h=o.closeTrigger,v=void 0===h?"data-micromodal-close":h,g=o.disableScroll,m=void 0!==g&&g,b=o.disableFocus,y=void 0!==b&&b,w=o.awaitCloseAnimation,k=void 0!==w&&w,p=o.debugMode,E=void 0!==p&&p;(function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")})(this,n),this.modal=document.getElementById(i),this.config={debugMode:E,disableScroll:m,openTrigger:f,closeTrigger:v,onShow:l,onClose:d,awaitCloseAnimation:k,disableFocus:y},r.length>0&&this.registerTriggers.apply(this,t(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return o(n,[{key:"registerTriggers",value:function(){for(var e=this,o=arguments.length,t=Array(o),i=0;i<o;i++)t[i]=arguments[i];t.forEach((function(o){o.addEventListener("click",(function(){return e.showModal()}))}))}},{key:"showModal",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.setFocusToFirstNode(),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:"closeModal",value:function(){var e=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",(function o(){e.classList.remove("is-open"),e.removeEventListener("animationend",o,!1)}),!1):e.classList.remove("is-open")}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var o=document.querySelector("body");switch(e){case"enable":Object.assign(o.style,{overflow:"initial",height:"initial"});break;case"disable":Object.assign(o.style,{overflow:"hidden",height:"100vh"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(i);return Object.keys(e).map((function(o){return e[o]}))}},{key:"setFocusToFirstNode",value:function(){if(!this.config.disableFocus){var e=this.getFocusableNodes();e.length&&e[0].focus()}}},{key:"maintainFocus",value:function(e){var o=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var t=o.indexOf(document.activeElement);e.shiftKey&&0===t&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())}else o[0].focus()}}]),n}(),a=null,s=function(e){if(!document.getElementById(e))return console.warn("MicroModal v0.3.1: ❗Seems like you have missed %c'"+e+"'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'+e+'"></div>'),!1},c=function(e,o){if(function(e){e.length<=0&&(console.warn("MicroModal v0.3.1: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!o)return!0;for(var t in o)s(t);return!0},{init:function(e){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),i=[].concat(t(document.querySelectorAll("["+o.openTrigger+"]"))),a=function(e,o){var t=[];return e.forEach((function(e){var i=e.attributes[o].value;void 0===t[i]&&(t[i]=[]),t[i].push(e)})),t}(i,o.openTrigger);if(!0!==o.debugMode||!1!==c(i,a))for(var s in a){var l=a[s];o.targetModal=s,o.triggers=[].concat(t(l)),new n(o)}},show:function(e,o){var t=o||{};t.targetModal=e,!0===t.debugMode&&!1===s(e)||(a=new n(t)).showModal()},close:function(){a.closeModal()}}}))
/*! @vimeo/player v2.7.0 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,(function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function l(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,o=n||r;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=o,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(o);if(s(o))return o.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(o,"” is not a vimeo.com url."))}var t=void 0!==Array.prototype.indexOf,n="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var n=Object.prototype.hasOwnProperty,o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id","_WeakMap_"+t()+"."+t()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function r(e,t){if(!i(e)||!n.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function t(){return Math.random().toString().substring(2)}return o(e.prototype,"delete",(function(e){if(r(this,"delete"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),o(e.prototype,"get",(function(e){if(r(this,"get"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),o(e.prototype,"has",(function(e){if(r(this,"has"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),o(e.prototype,"set",(function(e,t){if(r(this,"set"),!i(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this})),o(e,"_polyfill",!0),e}()}function i(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:o);var a,f=(function(e){var t,n,r;r=function(){var t,a,n,e=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function i(e,t){n.add(e,t),a||(a=r(n.drain))}function u(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=u(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function s(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&i(c,t))}function l(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then((function(e){r(t,e)}),o)}(t)}function f(e){this.def=e,this.triggered=!1}function d(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new d(this);this.then=function(e,t){var n={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),r.chain.push(n),0!==r.state&&i(c,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){(function e(n){var r,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(r=u(n))?i((function(){var t=new f(o);try{r.call(n,(function(){e.apply(t,arguments)}),(function(){s.apply(t,arguments)}))}catch(e){s.call(t,e)}})):(o.msg=n,o.state=1,0<o.chain.length&&i(c,o))}catch(e){s.call(new f(o),e)}}}).call(r,e)}),(function(e){s.call(r,e)}))}catch(e){s.call(r,e)}}n=function(){var n,r,o;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(e,t){o=new i(e,t),r?r.next=o:n=o,r=o,o=void 0},drain:function(){var e=n;for(n=r=a=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=t({},"constructor",h,!1);return t(h.prototype=v,"__NPO__",0,!1),t(h,"resolve",(function(n){return n&&"object"==typeof n&&1===n.__NPO__?n:new this((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)}))})),t(h,"reject",(function(n){return new this((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)}))})),t(h,"all",(function(t){var a=this;return"[object Array]"!=e.call(t)?a.reject(TypeError("Not an array")):0===t.length?a.resolve([]):new a((function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");var r=t.length,o=Array(r),i=0;l(a,t,(function(e,t){o[e]=t,++i===r&&n(o)}),e)}))})),t(h,"race",(function(t){var r=this;return"[object Array]"!=e.call(t)?r.reject(TypeError("Not an array")):new r((function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");l(r,t,(function(e,t){n(t)}),e)}))})),h},(n=o)[t="Promise"]=n[t]||r(),e.exports&&(e.exports=n[t])}(a={exports:{}}),a.exports),d=new WeakMap;function u(e,t,n){var r=d.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),d.set(e.element,r)}function c(e,t){return(d.get(e.element)||{})[t]||[]}function h(e,t,n){var r=d.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],d.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),d.set(e.element,r),r[t]&&0===r[t].length}var v=["autopause","autoplay","background","byline","color","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","title","transparent","url","width"];function p(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return v.reduce((function(e,t){var n=r.getAttribute("data-vimeo-".concat(t));return(n||""===n)&&(e[t]=""===n?1:n),e}),e)}function y(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function m(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=2<arguments.length?arguments[2]:void 0;return new Promise((function(t,n){if(!s(i))throw new TypeError("“".concat(i,"” is not a vimeo.com url."));var e="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(i),"&domain=").concat(window.location.hostname);for(var r in a)a.hasOwnProperty(r)&&(e+="&".concat(r,"=").concat(encodeURIComponent(a[r])));var o="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return y(e,u),void n(new Error("“".concat(i,"” is not embeddable.")));t(e)}catch(e){n(e)}else n(new Error("“".concat(i,"” is not embeddable.")));else n(new Error("“".concat(i,"” was not found.")))},o.onerror=function(){var e=o.status?" (".concat(o.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},o.send()}))}function g(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=o&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function b(n,r){var t,e=[];if((r=g(r)).event)"error"===r.event&&c(n,r.data.method).forEach((function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),h(n,r.data.method,e)})),e=c(n,"event:".concat(r.event)),t=r.data;else if(r.method){var o=function(e,t){var n=c(e,t);if(n.length<1)return!1;var r=n.shift();return h(e,t,r),r}(n,r.method);o&&(e.push(o),t=r.value)}e.forEach((function(e){try{if("function"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}}))}var k=new WeakMap,E=new WeakMap,Player=function(){function Player(u){var e,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),u=u[0]),"undefined"!=typeof document&&"string"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");var r=u.ownerDocument.defaultView;if("IFRAME"!==u.nodeName){var t=u.querySelector("iframe");t&&(u=t)}if("IFRAME"===u.nodeName&&!s(u.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(k.has(u))return k.get(u);this.element=u,this.origin="*";var o=new f((function(i,a){var e=function(e){if(s(e.origin)&&c.element.contentWindow===e.source){"*"===c.origin&&(c.origin=e.origin);var t=g(e.data);if(t&&"error"===t.event&&t.data&&"ready"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&"ready"===t.event,o=t&&"ping"===t.method;if(r||o)return c.element.setAttribute("data-ready","true"),void i();b(c,t)}};if(r.addEventListener?r.addEventListener("message",e,!1):r.attachEvent&&r.attachEvent("onmessage",e),"IFRAME"!==c.element.nodeName){var t=p(u,n);m(l(t),t,u).then((function(e){var t,n,r,o=y(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=d.get(t),d.set(n,r),d.delete(t),k.set(c.element,c),e})).catch(a)}}));return E.set(this,o),k.set(this.element,this),"IFRAME"===this.element.nodeName&&w(this,"ping"),this}var e,t;return e=Player,(t=[{key:"callMethod",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new f((function(e,t){return r.ready().then((function(){u(r,n,{resolve:e,reject:t}),w(r,n,o)})).catch(t)}))}},{key:"get",value:function(n){var r=this;return new f((function(e,t){return n=i(n,"get"),r.ready().then((function(){u(r,n,{resolve:e,reject:t}),w(r,n)})).catch(t)}))}},{key:"set",value:function(n,r){var o=this;return new f((function(e,t){if(n=i(n,"set"),null==r)throw new TypeError("There must be a value to set.");return o.ready().then((function(){u(o,n,{resolve:e,reject:t}),w(o,n,r)})).catch(t)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===c(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),u(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");h(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=E.get(this)||new f((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return f.resolve(e)}},{key:"addCuePoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new f((function(e){E.delete(t),k.delete(t.element),t._originalElement&&(k.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&r(e.prototype,t),Player}();return e||(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=p(t);m(l(e),e,t).then((function(e){return y(e,t)})).catch(n)}catch(e){n(e)}}))}(),function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(s(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=r.querySelectorAll("iframe"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}}()),Player})),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.Headroom=b()}(this,(function(){"use strict";function a(a){this.callback=a,this.ticking=!1}function b(a){return a&&"undefined"!=typeof window&&(a===window||a.nodeType)}function c(a){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var d,e,f=a||{};for(e=1;e<arguments.length;e++){var g=arguments[e]||{};for(d in g)"object"!=typeof f[d]||b(f[d])?f[d]=f[d]||g[d]:f[d]=c(f[d],g[d])}return f}function e(a,b){b=c(b,e.options),this.lastKnownScrollY=0,this.elem=a,this.tolerance=function(a){return a===Object(a)?a:{down:a,up:a}}(b.tolerance),this.classes=b.classes,this.offset=b.offset,this.scroller=b.scroller,this.initialised=!1,this.onPin=b.onPin,this.onUnpin=b.onUnpin,this.onTop=b.onTop,this.onNotTop=b.onNotTop,this.onBottom=b.onBottom,this.onNotBottom=b.onNotBottom}var f={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,a.prototype={constructor:a,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){if(e.cutsTheMustard)return this.debouncer=new a(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var a=this.classes;for(var b in this.initialised=!1,a)a.hasOwnProperty(b)&&this.elem.classList.remove(a[b]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var a=this.elem.classList,b=this.classes;!a.contains(b.pinned)&&a.contains(b.unpinned)||(a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},top:function(){var a=this.elem.classList,b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var a=this.elem.classList,b=this.classes;a.contains(b.bottom)||(a.add(b.bottom),a.remove(b.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notBottom)||(a.add(b.notBottom),a.remove(b.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(a){return Math.max(a.offsetHeight,a.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,b.scrollHeight,a.offsetHeight,b.offsetHeight,a.clientHeight,b.clientHeight)},getElementHeight:function(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(a){var b=a<0,c=a+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return b||c},toleranceExceeded:function(a,b){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance[b]},shouldUnpin:function(a,b){var c=a>this.lastKnownScrollY,d=a>=this.offset;return c&&d&&b},shouldPin:function(a,b){var c=a<this.lastKnownScrollY,d=a<=this.offset;return c&&b||d},update:function(){var a=this.getScrollY(),b=a>this.lastKnownScrollY?"down":"up",c=this.toleranceExceeded(a,b);this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),a+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(a,c)?this.unpin():this.shouldPin(a,c)&&this.pin(),this.lastKnownScrollY=a)}},e.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},e.cutsTheMustard=void 0!==f&&f.rAF&&f.bind&&f.classList,e})),function($){$&&($.fn.headroom=function(option){return this.each((function(){var $this=$(this),data=$this.data("headroom"),options="object"==typeof option&&option;options=$.extend(!0,{},Headroom.options,options),data||((data=new Headroom(this,options)).init(),$this.data("headroom",data)),"string"==typeof option&&(data[option](),"destroy"===option&&$this.removeData("headroom"))}))},$("[data-headroom]").each((function(){var $this=$(this);$this.headroom($this.data())})))}(window.Zepto||window.jQuery);
/*! npm.im/iphone-inline-video 2.2.2 */
var enableInlineVideo=function(){"use strict";
/*! npm.im/intervalometer */function preventEvent(element,eventName,test){function handler(e){test&&!test(element,eventName)||e.stopImmediatePropagation()}return element.addEventListener(eventName,handler),handler}function proxyProperty(object,propertyName,sourceObject,copyFirst){function set(value){sourceObject[propertyName]=value}copyFirst&&set(object[propertyName]),Object.defineProperty(object,propertyName,{get:function(){return sourceObject[propertyName]},set:set})}function proxyEvent(object,eventName,sourceObject){sourceObject.addEventListener(eventName,(function(){return object.dispatchEvent(new Event(eventName))}))}function dispatchEventAsync(element,type){Promise.resolve().then((function(){element.dispatchEvent(new Event(type))}))}var iOS8or9="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,IIV="bfred-it:iphone-inline-video",IIVEvent="bfred-it:iphone-inline-video:event",IIVPlay="bfred-it:iphone-inline-video:nativeplay",IIVPause="bfred-it:iphone-inline-video:nativepause";var lastTimeupdateEvent,lastRequests=[],requestIndex=0;function setTime(video,time,rememberOnly){(lastTimeupdateEvent||0)+200<Date.now()&&(video[IIVEvent]=!0,lastTimeupdateEvent=Date.now()),rememberOnly||(video.currentTime=time),lastRequests[++requestIndex%3]=100*time|0}function isPlayerEnded(player){return player.driver.currentTime>=player.video.duration}function update(timeDiff){this.video.readyState>=this.video.HAVE_FUTURE_DATA?(this.hasAudio||(this.driver.currentTime=this.video.currentTime+timeDiff*this.video.playbackRate/1e3,this.video.loop&&isPlayerEnded(this)&&(this.driver.currentTime=0)),setTime(this.video,this.driver.currentTime)):this.video.networkState===this.video.NETWORK_IDLE&&0===this.video.buffered.length&&this.video.load(),this.video.ended&&(delete this.video[IIVEvent],this.video.pause(!0))}function play(){var player=this[IIV];this.webkitDisplayingFullscreen?this[IIVPlay]():("data:"!==player.driver.src&&player.driver.src!==this.src&&(setTime(this,0,!0),player.driver.src=this.src),this.paused&&(player.paused=!1,0===this.buffered.length&&this.load(),player.driver.play(),player.updater.start(),player.hasAudio||(dispatchEventAsync(this,"play"),player.video.readyState>=player.video.HAVE_ENOUGH_DATA&&dispatchEventAsync(this,"playing"))))}function pause(forceEvents){var player=this[IIV];player.driver.pause(),player.updater.stop(),this.webkitDisplayingFullscreen&&this[IIVPause](),player.paused&&!forceEvents||(player.paused=!0,player.hasAudio||dispatchEventAsync(this,"pause"),this.ended&&!this.webkitDisplayingFullscreen&&(this[IIVEvent]=!0,dispatchEventAsync(this,"ended")))}function addPlayer(video,hasAudio){var player={};video[IIV]=player,player.paused=!0,player.hasAudio=hasAudio,player.video=video,player.updater=function(cb,request,cancel,requestParameter){var requestId,previousLoopTime;function loop(now){requestId=request(loop,requestParameter),cb(now-(previousLoopTime||now)),previousLoopTime=now}return{start:function(){requestId||loop(0)},stop:function(){cancel(requestId),requestId=null,previousLoopTime=0}}}(update.bind(player),requestAnimationFrame,cancelAnimationFrame),hasAudio?player.driver=function(video){var audio=new Audio;return proxyEvent(video,"play",audio),proxyEvent(video,"playing",audio),proxyEvent(video,"pause",audio),audio.crossOrigin=video.crossOrigin,audio.src=video.src||video.currentSrc||"data:",audio}(video):(video.addEventListener("canplay",(function(){video.paused||dispatchEventAsync(video,"playing")})),player.driver={src:video.src||video.currentSrc||"data:",muted:!0,paused:!0,pause:function(){player.driver.paused=!0},play:function(){player.driver.paused=!1,isPlayerEnded(player)&&setTime(video,0)},get ended(){return isPlayerEnded(player)}}),video.addEventListener("emptied",(function(){var wasEmpty=!player.driver.src||"data:"===player.driver.src;player.driver.src&&player.driver.src!==video.src&&(setTime(video,0,!0),player.driver.src=video.src,wasEmpty||!hasAudio&&video.autoplay?player.driver.play():player.updater.stop())}),!1),video.addEventListener("webkitbeginfullscreen",(function(){video.paused?hasAudio&&0===player.driver.buffered.length&&player.driver.load():(video.pause(),video[IIVPlay]())})),hasAudio&&(video.addEventListener("webkitendfullscreen",(function(){player.driver.currentTime=video.currentTime})),video.addEventListener("seeking",(function(){lastRequests.indexOf(100*video.currentTime|0)<0&&(player.driver.currentTime=video.currentTime)})))}function preventWithPropOrFullscreen(el){var isAllowed=el[IIVEvent];return delete el[IIVEvent],!el.webkitDisplayingFullscreen&&!isAllowed}return function(video,opts){if(void 0===opts&&(opts={}),!video[IIV]){if(!opts.everywhere){if(!iOS8or9)return;if(!(opts.iPad||opts.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}video.pause();var willAutoplay=video.autoplay;video.autoplay=!1,addPlayer(video,!video.muted),function(video){var player=video[IIV];video[IIVPlay]=video.play,video[IIVPause]=video.pause,video.play=play,video.pause=pause,proxyProperty(video,"paused",player.driver),proxyProperty(video,"muted",player.driver,!0),proxyProperty(video,"playbackRate",player.driver,!0),proxyProperty(video,"ended",player.driver),proxyProperty(video,"loop",player.driver,!0),preventEvent(video,"seeking",(function(el){return!el.webkitDisplayingFullscreen})),preventEvent(video,"seeked",(function(el){return!el.webkitDisplayingFullscreen})),preventEvent(video,"timeupdate",preventWithPropOrFullscreen),preventEvent(video,"ended",preventWithPropOrFullscreen)}(video),video.classList.add("IIV"),video.muted&&willAutoplay&&(video.play(),video.addEventListener("playing",(function restoreAutoplay(){video.autoplay=!0,video.removeEventListener("playing",restoreAutoplay)}))),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}}();
/*!
 * FitVids 1.1
 *
 * Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
 * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 *
 */function generateVideoModal(videoUrl,videoType,id){var playerId="video-player-"+id+"-2",content='<div id="'+playerId+'" class="modal-video-player-holder" style="opacity:0;" data-plyr-provider="youtube" data-plyr-embed-id="'+videoUrl+'"></div>';if(0==jQuery("#"+id).length)if(jQuery("body").append('<div class="modal modal--video micromodal-slide" id="'+id+'" aria-hidden="true"><div class="modal__overlay" tabindex="-1" data-micromodal-close><div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title"><header class="modal__header"><button class="modal__close" aria-label="Close modal" data-micromodal-close></button></header><main class="modal__content" id="'+id+'-content">'+content+'<div class="video-loader"><div></div><div></div><div></div><div></div></div><div class="video-loader"></div></main></div></div></div>'),"vimeo"==videoType){var playerOptions={url:videoUrl,autoplay:!0};new Vimeo.Player(playerId,playerOptions).ready().then(videoLoaded)}else if("undefined"!=typeof Plyr){var plyrPlayer=new Plyr("#"+playerId);videoLoaded(),plyrPlayer.on("ready",(event=>{event.detail.plyr.play()}))}else if("undefined"==typeof YT){var meomYtTag=document.createElement("script");meomYtTag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(meomYtTag,firstScriptTag);var initInterval=setInterval((function(){console.log("interval"),"undefined"!=typeof YT&&YT.Player&&(clearInterval(initInterval),initYoutubeVideo(videoUrl,playerId))}),20)}else initYoutubeVideo(videoUrl,playerId);MicroModal.show(id,{awaitCloseAnimation:!0,onClose:function(){setTimeout((function(){jQuery("#"+id).remove()}),300)}})}function initYoutubeVideo(videoUrl,playerId){var ytId=getYtId(videoUrl);new YT.Player(playerId,{height:"380",width:"640",videoId:ytId,events:{onReady:onPlayerReady,onError:onError}})}function getYtId(url){var newval="",id="";return(newval=url.match(/(\?|&)v=([^&#]+)/))||(newval=url.match(/(\.be\/)+([^\/]+)/))?id=newval.pop():(newval=url.match(/(\embed\/)+([^\/]+)/))&&(id=newval.pop().replace("?rel=0","")),id}function onPlayerReady(event){event.target.playVideo(),videoLoaded()}function onError(data){console.log(data)}function videoLoaded(){jQuery(".modal").fitVids(),jQuery(".modal .video-loader").remove(),jQuery(".modal-video-player-holder").css("opacity",1)}!function($){"use strict";$.fn.fitVids=function(options){var settings={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var head=document.head||document.getElementsByTagName("head")[0],div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',head.appendChild(div.childNodes[1])}return options&&$.extend(settings,options),this.each((function(){var selectors=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];settings.customSelector&&selectors.push(settings.customSelector);var ignoreList=".fitvidsignore";settings.ignore&&(ignoreList=ignoreList+", "+settings.ignore);var $allVideos=$(this).find(selectors.join(","));($allVideos=($allVideos=$allVideos.not("object object")).not(ignoreList)).each((function(){var $this=$(this);if(!($this.parents(ignoreList).length>0||"embed"===this.tagName.toLowerCase()&&$this.parent("object").length||$this.parent(".fluid-width-video-wrapper").length)){$this.css("height")||$this.css("width")||!isNaN($this.attr("height"))&&!isNaN($this.attr("width"))||($this.attr("height",9),$this.attr("width",16));var aspectRatio=("object"===this.tagName.toLowerCase()||$this.attr("height")&&!isNaN(parseInt($this.attr("height"),10))?parseInt($this.attr("height"),10):$this.height())/(isNaN(parseInt($this.attr("width"),10))?$this.width():parseInt($this.attr("width"),10));if(!$this.attr("name")){var videoName="fitvid"+$.fn.fitVids._count;$this.attr("name",videoName),$.fn.fitVids._count++}$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*aspectRatio+"%"),$this.removeAttr("height").removeAttr("width")}}))}))},$.fn.fitVids._count=0}(window.jQuery||window.Zepto),$((function(){0==$(".disable-headroom").length&&$(".site-header").headroom(),$(".nav-toggle").on("click",(function(event){event.preventDefault(),$("html").toggleClass("main-menu-open")}))})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)}),function($){$((function(){$(".open-video-modal").on("click",(function(event){var videoType,videoUrl;event.preventDefault();var vimeoVideoUrl=$(this).data("video-content"),ytVideoUrl=$(this).data("yt-video-content");ytVideoUrl?(videoType="yt",videoUrl=ytVideoUrl):(videoType="vimeo",videoUrl=vimeoVideoUrl),$(window).width()>600?generateVideoModal(videoUrl,videoType,"videomodal-"+Date.now()):window.open(videoUrl)}))}))}(jQuery),$((function(){var dndBgs=$('div[class*="background-color"].dnd-section'),controller=new ScrollMagic.Controller;dndBgs.each((function(index){var currentBg=$(this);if(0!==currentBg.find(".boxes").length){var elementId="animate-bg-"+index;currentBg.attr("id",elementId),currentBg.addClass("background-not-animated has-background-animation");new ScrollMagic.Scene({triggerElement:"#"+elementId,triggerHook:.3,duration:"50vh"}).on("enter",(function(e){"FORWARD"===e.target.controller().info("scrollDirection")?$("#"+elementId).removeClass("background-not-animated"):$("#"+elementId).addClass("background-not-animated")})).on("leave",(function(e){"REVERSE"===e.target.controller().info("scrollDirection")?$("#"+elementId).addClass("background-not-animated"):$("#"+elementId).removeClass("background-not-animated")})).addTo(controller)}}))}));var hasVideo=jQuery(".vid").length;function loadedForVideo(){if(0!=hasVideo){var screenSizeState=jQuery(window).width()>767?"desktop":"mobile";function loadVideo(currentVideo,vidToPlay,desktopVideo,mobileVideo,desktopCover,mobileCover,desktopWidth,desktopHeight,mobileWidth,mobileHeight){var videoUrl=function(desktopVideo,mobileVideo){var ww=jQuery(window).width();return ww>767&&""!=desktopVideo&&null!=desktopVideo||ww<=767&&(""==mobileVideo||null==mobileVideo)?desktopVideo:mobileVideo}(desktopVideo,mobileVideo),videoCover=function(desktopVideo,mobileVideo,desktopCover,mobileCover){var ww=jQuery(window).width();return ww>767&&""!=desktopVideo&&null!=desktopVideo||ww<=767&&(""==mobileVideo||null==mobileVideo)?desktopCover:mobileCover}(desktopVideo,mobileVideo,desktopCover,mobileCover),videoHeight=getVidSize(desktopHeight,mobileHeight),videoWidth=getVidSize(desktopWidth,mobileWidth);jQuery(currentVideo).attr("poster",videoCover),jQuery(currentVideo).attr("width",videoWidth),jQuery(currentVideo).attr("height",videoHeight),jQuery(currentVideo).parent().addClass("animate-in"),jQuery(currentVideo).parent().removeClass("loading"),function(currentVideo,videoUrl){jQuery(currentVideo).html(""),jQuery(currentVideo).append('<source src="'+videoUrl+'" type="video/mp4">')}(currentVideo,videoUrl),vidToPlay.load(),enableInlineVideo(currentVideo),vidToPlay.addEventListener("canplaythrough",canPlay(vidToPlay,currentVideo,videoCover))}function canPlay(vidToPlay,currentVideo,videoCover){jQuery(currentVideo).parent().removeClass("animate-in"),$(vidToPlay).hasClass("disable-autoplay")||vidToPlay.play(),vidToPlay.removeEventListener("oncanplaythrough",canPlay),setTimeout((function(){jQuery(currentVideo).parent().addClass("animate-in"),jQuery(currentVideo).parent().removeClass("loading")}),1e3)}function getVidSize(dekstopSize,mobileSize){var ww=jQuery(window).width();return ww>767&&""!=dekstopSize&&null!=dekstopSize||ww<=767&&(""==mobileSize||null==mobileSize)?dekstopSize:mobileSize}jQuery(".vid").each((function(index){var currentVideo=this;jQuery(currentVideo).attr("id","vid"+index);var vidToPlay=document.getElementById(jQuery(currentVideo).attr("id")),desktopVideo=jQuery(currentVideo).data("mp4"),mobileVideo=jQuery(currentVideo).data("mp4-mobile"),desktopCover=jQuery(currentVideo).data("cover-desktop"),mobileCover=jQuery(currentVideo).data("cover-mobile"),desktopWidth=jQuery(currentVideo).data("width"),desktopHeight=jQuery(currentVideo).data("height"),mobileWidth=jQuery(currentVideo).data("mobile-width"),mobileHeight=jQuery(currentVideo).data("mobile-height");loadVideo(currentVideo,vidToPlay,desktopVideo,mobileVideo,desktopCover,mobileCover,desktopWidth,desktopHeight,mobileWidth,mobileHeight),$(window).on("resize",(function(){var newScreenState=jQuery(window).width()>767?"desktop":"mobile";newScreenState!=screenSizeState&&(screenSizeState=newScreenState,loadVideo(currentVideo,vidToPlay,desktopVideo,mobileVideo,desktopCover,mobileCover,desktopWidth,desktopHeight,mobileWidth,mobileHeight))}))}))}}loadedForVideo();
//# sourceURL=https://cdn2.hubspot.net/hub/2090809/hub_generated/template_assets/43109727882/1629737991832/brella-2021-theme/dist/brella-2021-scripts.js